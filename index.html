<html>
	<head>
		<style>
			body {
				font-family: arial, sans-serif;
				font-size: 13px;
			}
			fieldset {
				width: 49%;
				box-sizing: border-box;
			}
			fieldset:first-of-type {
				float: left;
			}
			fieldset:last-of-type {
				float: right;
			}
			label {
				display: inline-block;
				width: 30%;
			}
			label + *,
			textarea {
				width: 100%;
			}
		</style>
	</head>
	<body>
		<style id="style"></style>
		<h1>Schoolity</h1>
		<fieldset>
			<legend>Input</legend>
			<div>
				<h3>Tid</h3>
				<div>
					<p>
						<label for="time-start">Start</label>
						<input type="time" id="time-start" value="09:00" />
					</p>
					<p>
						<label for="time-end">Slut</label>
						<input type="time" id="time-end" value="10:00" />
					</p>
				</div>
			</div>
			<div>
				<h3>Info</h3>
				<p>
					<label for="location">Plats</label>
					<select id="location">
						<option value="aula">Aula</option>
						<option value="vk-gata">VK Gata</option>
						<option value="vk-gard">VK Gård</option>
						<option value="anders">Akademin Anders</option>
						<option value="gota">Akademin Göta</option>
						<option value="cafe">Café</option>
					</select>
				</p>
				<p>
					<label for="lecturer">Lärare</label>
					<input id="lecturer" value="Jonas Johansson" />
				</p>
				<p>
					<label for="heading">Rubrik</label>
					<input id="heading" value="The Art of the Deal" />
				</p>
				<p>
					<label for="input">Innehåll</label>
					<textarea id="input" rows="10">
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis euismod dignissim diam, nec vulputate diam elementum id. Pellentesque rutrum id augue sed commodo. Curabitur luctus gravida dui, in finibus tortor semper vulputate. Aliquam mi nibh, sagittis vitae luctus et, suscipit non neque. Nulla vitae lorem elit. Curabitur suscipit ultrices mi, a pharetra purus vulputate a. Donec sed ligula a lectus consequat blandit. Maecenas imperdiet lacus ac sem malesuada, eu imperdiet ex vestibulum. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Vivamus quis cursus odio.</textarea
					>
				</p>
			</div>
			<div>
				<h3>Stil</h3>
				<p>
					<label for="color">Färg</label>
					<input type="color" id="color" value="#000000" />
				</p>
			</div>
		</fieldset>
		<fieldset>
			<legend>Output</legend>
			<div>
				<!-- <h3></h3> -->
				<div contenteditable="true" id="output"></div>
			</div>
		</fieldset>
		<script>
			const els = document.querySelectorAll('input, select, textarea');
			const out = document.querySelector('#output');
			for (let el of els) {
				el.addEventListener('input', function () {
					const timeStart = document
						.querySelector('#time-start')
						.value.replaceAll(':', '.');
					const timeEnd = document
						.querySelector('#time-end')
						.value.replaceAll(':', '.');
					const location = document
						.querySelector('#location')
						.options[
							document.querySelector('#location').selectedIndex
						].textContent.toUpperCase();

					let lecturer = document.querySelector('#lecturer').value;
					const heading = document.querySelector('#heading').value;
					const input = document.querySelector('#input').value;
					const style = document.querySelector('#style');
					const color = document.querySelector('#color').value;
					out.innerHTML = `<span><strong>Tid:</strong></span><br><span>${timeStart}-${timeEnd}</span>`;
					out.innerHTML += '<br><br>';
					out.innerHTML += `<span><strong>Titel:</strong></span>`;
					out.innerHTML += '<br>';
					out.innerHTML += `<span>${heading} med ${lecturer}</span><br><br><span>${input}</span>`;
					out.innerHTML += '<br><br>';
					out.innerHTML += `<span><strong>Plats:</strong></span>`;
					out.innerHTML += '<br>';
					out.innerHTML += `<span>${location}</span>`;
					style.innerHTML = `span { color: ${color};`;
				});
				let event = new Event('input', {
					bubbles: true,
					cancelable: true,
				});
				el.dispatchEvent(event);
			}
		</script>
	</body>
</html>
